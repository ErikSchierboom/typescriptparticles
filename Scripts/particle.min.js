var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i};define(["require","exports","drawing"],function(n,t,i){var u=60,f=i,s=function(){function n(){}return n.BouncingBall="Bouncing Ball",n.Firework="Firework",Object.defineProperty(n,"particleTypes",{get:function(){return[n.BouncingBall,n.Firework]},enumerable:!0,configurable:!0}),n}(),r,e,o;t.ParticleType=s,r=function(n){function t(t){n.call(this,t),this.ctx=t,this.coordinate=new f.Point}return __extends(t,n),t.prototype.update=function(){this.coordinate.x+=this.horizontalMovement,this.coordinate.y+=this.verticalMovement},Object.defineProperty(t.prototype,"horizontalMovement",{get:function(){return this.vx*this.dt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalMovement",{get:function(){return this.vy*this.dt},enumerable:!0,configurable:!0}),t}(f.Drawable),t.Particle=r,e=function(n){function t(t){n.call(this,t),this.ctx=t,this.radius=Math.random()*20+5,this.coordinate.x=Math.random()*(this.ctx.canvas.width-this.radius*2)+this.radius,this.coordinate.y=Math.random()*(this.ctx.canvas.height-this.radius*2)+this.radius,this.vx=(Math.random()*2-1)*40,this.vy=(Math.random()*2-1)*40,this.dt=1/u,this.color="hsl("+Math.floor(Math.random()*360)+",100%, 50%)"}return __extends(t,n),t.prototype.update=function(){n.prototype.update.call(this),this.shouldReverseHorizontalDirection&&(this.vx*=-1),this.shouldReverseVerticalDirection&&(this.vy*=-1)},t.prototype.draw=function(){this.ctx.beginPath(),this.ctx.arc(this.coordinate.x,this.coordinate.y,this.radius,0,2*Math.PI,!1),this.ctx.closePath(),this.ctx.fillStyle=this.color,this.ctx.fill()},Object.defineProperty(t.prototype,"movingToLeft",{get:function(){return this.vx<0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"movingToRight",{get:function(){return this.vx>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"movingToTop",{get:function(){return this.vy<0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"movingToBottom",{get:function(){return this.vy>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overLeftBorder",{get:function(){return this.coordinate.x<=this.radius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overRightBorder",{get:function(){return this.coordinate.x>=this.ctx.canvas.width-this.radius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overTopBorder",{get:function(){return this.coordinate.y<=this.radius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overBottomBorder",{get:function(){return this.coordinate.y>=this.ctx.canvas.height-this.radius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldReverseHorizontalDirection",{get:function(){return this.movingToLeft&&this.overLeftBorder||this.movingToRight&&this.overRightBorder},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldReverseVerticalDirection",{get:function(){return this.movingToTop&&this.overTopBorder||this.movingToBottom&&this.overBottomBorder},enumerable:!0,configurable:!0}),t}(r),t.BouncingBallParticle=e,o=function(n){function t(t){n.call(this,t),this.ctx=t,this.coordinate.x=this.ctx.canvas.width/2,this.coordinate.y=this.ctx.canvas.height/2,this.vx=(Math.random()*2-1)*40,this.vy=(Math.random()*2-1)*40,this.dt=1/u,this.color="hsl("+Math.floor(Math.random()*360)+",100%, 50%)"}return __extends(t,n),t.prototype.draw=function(){this.ctx.beginPath(),this.ctx.moveTo(this.lastCoordinate.x,this.lastCoordinate.y),this.ctx.lineTo(this.coordinate.x,this.coordinate.y),this.ctx.closePath(),this.ctx.lineWidth=3,this.ctx.strokeStyle=this.color,this.ctx.stroke()},t.prototype.update=function(){this.updateLastCoordinate(),n.prototype.update.call(this)},t.prototype.updateLastCoordinate=function(){this.lastCoordinate=this.coordinate},t}(r),t.FireworkParticle=o})