define(["require","exports","particles","particle","knockout","kinetic"],function(n,t,i,r){var e=i,f=r,u=n("knockout"),o=function(){function n(){var n=this;this.particleTypes=u.observableArray(f.ParticleType.particleTypes),this.selectedParticleType=u.observable(f.ParticleType.BouncingBall),this.animating=u.observable(!1),this.stage=new Kinetic.Stage({container:"particlesCanvas",width:700,height:300}),this.particles=new e.Particles(this.stage),this.selectedParticleType.subscribe(function(t){n.particles.particleType=t,n.reset()}),this.startAnimating()}return n.prototype.toggleAnimating=function(){this.animating()?this.stopAnimating():this.startAnimating()},n.prototype.startAnimating=function(){this.animating(!0),this.particles.startAnimating(null)},n.prototype.stopAnimating=function(){this.particles.stopAnimating(),this.animating(!1)},n.prototype.reset=function(){this.particles.refresh()},n}();t.AppViewModel=o})