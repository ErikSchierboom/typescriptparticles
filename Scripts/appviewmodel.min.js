define(["require","exports","Particles/particles","knockout","raphael"],function(n,t,i){var r=i,u=n("knockout"),f=function(){function n(){var n=this;this.particleTypes=u.observableArray(r.ParticleType.particleTypes),this.selectedParticleType=u.observable(r.ParticleType.BouncingBall),this.animating=u.observable(!1),this.paper=Raphael("particlesCanvas",700,300),this.particles=new r.Particles(this.paper),this.selectedParticleType.subscribe(function(t){n.particles.particleType=t,n.reset()}),this.startAnimating()}return n.prototype.toggleAnimating=function(){this.animating()?this.stopAnimating():this.startAnimating()},n.prototype.startAnimating=function(){this.animating(!0)},n.prototype.stopAnimating=function(){this.animating(!1)},n.prototype.reset=function(){this.particles.refresh()},n}();t.AppViewModel=f})